-------------------------------------------------
-------------------------------------------------

　　PmxDressup

　　β版用追加Readme

　　　　　　　　　　　　　　　　　miu200521358

-------------------------------------------------
-------------------------------------------------

----------------------------------------------------------------
■　配布元
----------------------------------------------------------------

　・ニコニコミュニティ「miuの実験室」
　　　https://com.nicovideo.jp/community/co5387214
　・ディスコード「MMDの集い　Discord支部」
　　　https://discord.gg/wBcwFreHJ8

　※基本的にβ版は上記二箇所でのみ配布しておりますので、上記以外で見かけたらお手数ですがご連絡下さい。

----------------------------------------------------------------
■　β版をご利用いただくにあたってのお願い
----------------------------------------------------------------

・この度はβ版テスターにご応募いただき、ありがとうございます
　β版をご利用いただくのにあたって、下記点をお願いいたします。

・不具合報告、改善要望、大歓迎です。
　要望についてはお応えできるかは分かりませんが…ｗ

　・不具合報告の場合、下記をご報告ください
　　・β版の番号（必須）
　　・エラー発生時には、exeと同じフォルダにログファイルが出力されているので、そのログのエラー部分（必須）
　　・一般配布されているモデルや衣装の場合、お迎えできるURL
　　・ご報告は下記いずれかでお願いします。
　　　・コミュニティ　…　掲示板に投稿して下さい
　　　・ディスコード　…　ツール系雑談に投稿してください

・β版で作ったモデルの扱いは、リリース版と同様にお願いします。
　モデルの規約の範囲内であれば、どこに投稿していただいても、何に利用していただいても構いません。
　自作発言とツールの再配布だけNG。年齢制限系は検索避けよろしくです。

・β版を使ってみて良かったら、ぜひ公開して、宣伝してくださいｗ
　励みになります！公開先はどこでもOKです。
　その際に、Twitterアカウント（@miu200521358）を添えていただけたら、喜んで拝見に伺います

----------------------------------------------------------------
■　revision
----------------------------------------------------------------

PmxDressup_1.00.00_β29 (2023/06/15)
・グローバルスケールの計算をmeanから maxとmeanの中間に変更
　・ボーンの長さだけだと小さくスケーリングされやすい
・スケーリングを行う時のカテゴリ整理（ウェイトの乗り方や軸方向によってかなりローカル位置計算時に差が出るため）
　・肩を腕から肩に変更
　・足首・足先EXを足から足首に変更
　・手首を腕から手首に変更
・準標準以外のIKのターゲットボーンをフィッティングさせられるよう修正
・単一材質のみを表示する「単」ボタン追加
・調整ボーンも含められるよう関係ボーンリスト修正
・個別調整時に肩P・肩Cも調整するよう修正
・準標準外の装飾ボーンを個別調整できるようプルダウンに追加
・VMD計算時のキャッシュ処理の有効でないものを廃止（fno_poses、fno_scales）

PmxDressup_1.00.00_β28 (2023/06/11)
・出力時の変形階層を自身・親ボーン・付与親ボーンのうち最大の変形階層に合わせるよう修正
・手動調整モーフで上半身をローカルスケーリングしたときに上半身2も同じ値でローカルスケーリングできるようモーフオフセット追加（他も同様）
・ローカルスケーリング計算元となるボーンと頂点のローカル位置関係を求める処理を修正
・個別調整欄の処理を共通化
・足周りのフィッティング調整
　・足D系列は足FKに合わせる
　・足FK系列は回転しないで、足D系列でのみ回転させて変形させる
・保存時のボーン位置置き換え処理に人物ウェイト有無判定を追加
・準標準以外のスケールは親となっている上半身または下半身のグローバルスケールを適用するよう変更
・準標準に繋がってる準標準以外のグローバルスケールは個別調整時にも適用するよう変更
・出力お着替えモデルのファイル名にモデル名を使用するよう変更
【残課題】
　・疑似AスタンスなどIKで動きが決まる人物モデルがベースの場合に出力後のお着替えモデルで変形が変になる場合がある（例：ISAO式）

PmxDressup_1.00.00_β27 (2023/06/07)
・ローカルスケーリング修正
・マージ出力時のボーン出力有無判定修正
・再フィット処理削除（無理に再フィットさせようとすると変形が汚くなる）
・接地処理を出力直前に常に行うよう処理移動

PmxDressup_1.00.00_β26 (2023/05/28)
・リファクタリング
・左腕・左足のスケーリング計算が間違っていたので修正
　（右の計算をクリアしてなかった）
・再フィット計算が無効になっていたので有効に修正

PmxDressup_1.00.00_β24 (2023/05/22)
・テクスチャ複製処理でバッティング時の処理追加
・追加UVが指定されてる場合のPMX保存処理修正
・お着替えモデル出力時のログ追加
・衣装ボーンの接続不具合修正
・接地ボタン追加（衣装の靴底が地面に付くように全体のY位置を調整）
　・これに伴い人物モデルも変形後の形で出力するよう修正
・レイアウト調整
・スライダーの有効範囲調整
・再生ボタンを押すと、停止ボタンまで無効化されてしまうのを修正
・再生ボタンのラベル修正

PmxDressup_1.00.00_β23 (2023/05/22)
・保存時のモデルデータ存在チェック追加
・出力ファイルパスが無効な場合、デフォルトパスを再設定するよう修正
・スレッド停止処理追加
・お着替えモデル出力時に、衣装モデルから持ってきたオブジェクトの名前に「Cos:」を追加
・名前バッティング時の処理追加
・ツールレイアウト調整

PmxDressup_1.00.00_β22 (2023/05/21)
・必須ボーンが足りないなどでエラーになった場合にファイルタブのボタンを有効にするよう修正
・足首の位置を衣装側のボーン位置で補正
・ジョイント出力まで一通り

PmxDressup_1.00.00_β21 (2023/05/21)
・エラー発生時のログ出力先をexeのある場所に修正
・お着替えモデル出力時に表示枠追加（MMDで表示できるようになった）
・その他細かいバグ修正

PmxDressup_1.00.00_β20 (2023/05/21)
・お着替えモデル出力機能追加（ボーンまで）
・個別フィッティングの最小値を変更
・FloatSliderのイベントハンドリング修正
・クリアボタン時の挙動修正
・個別フィッティングのスケールと回転をローカル軸に沿うよう修正
　・スケールと回転は子には伝播させない
　・移動はグローバル

PmxDressup_1.00.00_β19 (2023/05/14)
・個別フィッティング機能追加
　・キャンセル機能はあえて付けてない（自動キャンセルさせると混乱した）

PmxDressup_1.00.00_β18 (2023/05/13)
・腕捩り系を上半身2と同じように人物モデルの相関位置に配置するよう調整
　・腕捩り系を必須ボーン（なかったら追加するボーン）に追加
・ボーンラインのデフォルト透過度を0.5に変更
・非透過度が小さい材質の描画を行うため、不透明時のみアルファテストをONにするよう判定追加
・頭のスケーリングをOFF

PmxDressup_1.00.00_β17 (2023/05/13)
・再生時にフォームパーツをdisableに切り替える処理を追加
・フィッティングの計算順番を修正
　・移動→回転→スケールの順番で計算し、順番に変形を適用させて次のボーンのフィッティングを行う
・頭部装飾用ボーンを挿入し、頭アクセを一括で動かせるよう修正（操作処理自体は未実装）
・衣装側の上半身2の位置を人物モデルの相関位置に配置
　・上半身から見た上半身2の位置と、首から見た上半身2の位置の中間地点に配置する

PmxDressup_1.00.00_β16 (2023/05/06)
・疑似AスタンスなどIKで動きが決まるタイプの人物モデルでフィッティングに失敗していたのを修正

PmxDressup_1.00.00_β15 (2023/05/06)
・ルートスケーリングを削除（移動にスケーリングをかけない）
・頭のスケーリングロジックを修正

PmxDressup_1.00.00_β14 (2023/05/06)
・ログレベル修正
・全材質透明化機能追加
・カメラが後ろに回ったときにホイールの回転が逆方向になるのを修正
・中ホイールでの移動時にホイールの回転を加味するよう修正
・スピンコントロールでEnterキーを押下したときに変化を反映させるよう修正
・人物モーションと衣装モーションと別々のプロセスで実行するよう修正
・オリジナルデータを別で保持するよう修正
・人物・衣装いずれかに準標準ボーンが足りない場合、足りない方に追加するよう機能追加
・ロジック系をusecaseに分離

PmxDressup_1.00.00_β13 (2023/04/30)
・引数あり起動を、ショートカット起動からバッチ起動に変更
・スケーリングありボーンモーフ追加
・ログあり版でログが正常に出力されていなかったのを修正
・マルチプロセスアニメーションの不具合対応
　・透明度変更時にon_playが走る場合があったのを修正
　・multiprocessing.popen_spawn_win32.Popenをforkして、pyinstaller用マルチプロセス処理に修正

PmxDressup_1.00.00_β12 (2023/04/23)
・追加UVがあった場合に後ろの方のメッシュ変形がおかしくなる不具合を修正
・捩りのフィッティングがズレてたのを修正
・親までをフィッティングさせた上で改めてフィッティング先のボーン位置を求めるよう修正

PmxDressup_1.00.00_β11 (2023/04/18)
・透過度を変えた場合にはボーンデフォーム計算を行わないよう修正
・Playボタンでモーションを停止させた時にProcessも停止するよう処理追加

PmxDressup_1.00.00_β10 (2023/04/18)
・ログ追加

PmxDressup_1.00.00_β09 (2023/04/17)
・材質の透過度の計算が間違っていたので修正
・アニメーションをマルチプロセスで処理
・フィッティングの角度計算が間違っていたので修正
・衣装の装飾用ボーン（標準・準標準以外のボーン）のボーンフィッティング追加

PmxDressup_1.00.00_β08 (2023/04/15)
・材質の透過度を個別に変更できる機能追加
・人物モデルと衣装モデルのボーンの角度差を加味したボーンフィッティング処理に修正
　・必須ボーンチェック追加（センター、上半身、下半身）
　・準標準ボーンの範囲外の場合、とりあえず縮尺対象外
　・モデルによっては変形が汚くなるので、頂点スムージング検討中
・描画に失敗した時のエラーメッセージ表示
・処理完了時のサウンド
・モーションのみを切り替えた場合、人物・衣装のフィッティングはそのままで切り替えられるよう機能追加

PmxDressup_1.00.00_β07 (2023/04/09)
・ボーン描画機能追加

PmxDressup_1.00.00_β06 (2023/04/09)
・デバッグ版でのみ、変形モーフ付き衣装モデル出力機能追加
・ボーン縮尺の計算式を修正
・材質OFF機能追加（頂点モーフ）
・スケール付きモーション再生機能

PmxDressup_1.00.00_β05 (2023/04/08)
・モデル・モーション再読込に対応
・衣装モデルの縮尺合わせをボーンモーフに変更
